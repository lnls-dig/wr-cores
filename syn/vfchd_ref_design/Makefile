########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
########################################

PROJECT := vfchd_wr_ref
QUARTUS_CRAP := $(PROJECT).asm.rpt $(PROJECT).done $(PROJECT).fit.rpt $(PROJECT).fit.smsg $(PROJECT).fit.summary $(PROJECT).flow.rpt $(PROJECT).jdi $(PROJECT).map.rpt $(PROJECT).map.summary $(PROJECT).pin $(PROJECT).qws $(PROJECT).sta.rpt $(PROJECT).sta.summary run.tcl

#target for performing local synthesis
local: syn_pre_cmd check_tool synthesis syn_post_cmd

synthesis:
		echo "load_package flow" > run.tcl
		echo "project_open $(PROJECT)" >> run.tcl
		echo "execute_flow -compile" >> run.tcl
		/opt/altera/16.0/quartus/bin/quartus_sh -t run.tcl

check_tool:
		

syn_post_cmd:
		

syn_pre_cmd:
		

#target for cleaing all intermediate stuff
clean:
		rm -f $(QUARTUS_CRAP)
		rm -rf db incremental_db

#target for cleaning final files
mrproper:
		rm -f *.sof *.pof *.jam *.jbc *.ekp *.jic

.PHONY: mrproper clean syn_pre_cmd syn_post_cmd synthesis local check_tool

